<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analytics Test Page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .content-section {
            min-height: 100vh;
            padding: 50px 0;
        }
        .analytics-info {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            border-left: 4px solid #007bff;
        }
    </style>
</head>
<body>
    <div class="container mt-5">
        <h1 class="display-4 text-center mb-5">Analytics Tracker Test</h1>
        
        <div class="row">
            <div class="col-md-8 mx-auto">
                <div class="analytics-info">
                    <h3><i class="bi bi-graph-up"></i> Analytics Features Being Tested</h3>
                    <ul class="mb-3">
                        <li><strong>Pageview Tracking:</strong> Automatically logs when you visit this page</li>
                        <li><strong>Engagement Time:</strong> Tracks how long you have this tab focused</li>
                        <li><strong>Scroll Depth:</strong> Measures how far you scroll down the page</li>
                        <li><strong>Referrer Tracking:</strong> Logs where you came from</li>
                    </ul>
                    
                    <h4>Manual Controls</h4>
                    <div class="btn-group mb-3" role="group">
                        <button type="button" class="btn btn-primary" onclick="Analytics.track()">
                            Send Manual Pageview
                        </button>
                        <button type="button" class="btn btn-success" onclick="Analytics.engagement()">
                            Send Engagement Event
                        </button>
                        <button type="button" class="btn btn-warning" onclick="Analytics.ignore()">
                            Disable Tracking
                        </button>
                        <button type="button" class="btn btn-info" onclick="Analytics.enable()">
                            Enable Tracking
                        </button>
                    </div>
                    
                    <p class="mb-2"><strong>Check your browser console and Flask server logs to see events!</strong></p>
                    <small class="text-muted">
                        Tracking is automatically disabled on localhost. To test, either disable the localhost check 
                        in the analytics.js file or access this via a different hostname.
                    </small>
                </div>
                
                <div class="content-section">
                    <h2>Scroll Test Section 1</h2>
                    <p>This content is here to test scroll depth tracking. Keep scrolling to see how the analytics track your engagement!</p>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
                </div>
                
                <div class="content-section bg-light">
                    <h2>Scroll Test Section 2</h2>
                    <p>More content to test scroll tracking. The analytics system measures what percentage of the page you've seen.</p>
                    <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                </div>
                
                <div class="content-section">
                    <h2>Scroll Test Section 3</h2>
                    <p>Final section for testing. When you navigate away from this page or switch tabs, the engagement event will be automatically sent.</p>
                    <p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo.</p>
                    
                    <div class="alert alert-info">
                        <h4>Back to Main App</h4>
                        <p>Click the link below to test referrer tracking:</p>
                        <a href="/" class="btn btn-lg btn-primary">Return to Stock Screener</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Analytics Tracker -->
    <script src="/static/js/analytics.js"></script>
    
    <script>
        // Log analytics status to console
        console.log('ðŸ“Š Analytics Test Page Loaded');
        console.log('ðŸ“Š Watch the browser console and Flask server logs for analytics events');
    </script>
</body>
</html> 